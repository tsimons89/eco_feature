* Eco Feature Project Notes
** Creating features from other features
   Because the features are simply linear filters, the output of some filters can be used for others.
*** Creating every possible filtered image
    To speed up testing and training I thought that I could create filtered result for every possible filter that could exists.
    By limiting the genomes of the filters to a cap of 5,5,1,1 I still get good results and there are only 144 different possibilities.
** TODO Testing every filter instead of random evolution
   
   With a cap of 5,5,1,1 for the genome (x_blur,y_blur,x_diff,y_diff) there are only 144 possibilities. 
   Maybe it would improve performance to just check every possibility.
*** Random sampling
    Much of the eco feature algorithm uses random. I think it is used to reduce over fitting.
*** New algorithm
**** How to determine which filter is best
     The genetic algorithm used a smaller test set from the data set to determine fitness.
     Could I use the gini impurity?
     Maybe the size of the tree?
*** Profile the training time (filter and random forest)
    On i7 desktop with the fish data set, image processing takes an average of 15,000 cycles, where training the forest (5 trees 5 deep) takes about 53,000 cycles.
** Gini heat map
   Could I use the gini purity measure to figure out which 
   
*** TODO Create gini heat map
** Using smaller Forests
*** Results
| creatures | trees | depth | nodes | accuracy |       score |
|-----------+-------+-------+-------+----------+-------------|
|         5 |     1 |     2 |    40 | 0.570866 |    -9478.35 |
|         5 |     2 |     2 |    75 | 0.602362 |  -4635.1733 |
|        10 |     1 |     2 |    80 | 0.779528 |     -2130.9 |
|         5 |     1 |     3 |    80 |  0.80315 |   -1835.625 |
|        10 |     2 |     2 |   150 | 0.791339 |    -1057.74 |
|         5 |     2 |     3 |   151 | 0.759843 |  -1259.3179 |
|        10 |     1 |     3 |   158 | 0.885827 |  -406.15823 |
|        20 |     1 |     2 |   160 | 0.818898 |   -819.3875 |
|         5 |     5 |     2 |   180 | 0.708661 |  -1340.7722 |
|         5 |     1 |     5 |   216 | 0.846457 |  -479.36574 |
|        30 |     1 |     2 |   240 | 0.858268 |  -382.21667 |
|        10 |     2 |     3 |   292 | 0.846457 |  -354.59932 |
|        20 |     2 |     2 |   298 | 0.834646 |  -387.09396 |
|        20 |     1 |     3 |   310 | 0.913386 |  -118.10968 |
|        40 |     1 |     2 |   320 | 0.917323 |  -102.11563 |
|         5 |     1 |    20 |   324 | 0.870079 |  -246.66975 |
|         5 |     1 |    15 |   344 | 0.901575 |  -140.77035 |
|         5 |    10 |     2 |   351 | 0.728346 |  -631.49288 |
|         5 |     1 |    20 |   352 | 0.850394 |  -282.97159 |
|        10 |     5 |     2 |   358 | 0.818898 |  -366.20670 |
|         5 |     5 |     3 |   368 |  0.84252 |  -292.06522 |
|         5 |     2 |     5 |   415 | 0.862205 |  -211.55422 |
|        10 |     1 |     5 |   430 | 0.925197 |  -57.681395 |
|        30 |     2 |     2 |   448 | 0.850394 |  -222.33482 |
|        30 |     1 |     3 |   474 |  0.92126 |  -60.632911 |
|         5 |    15 |     2 |   530 |  0.76378 |  -351.35849 |
|        20 |     2 |     3 |   600 | 0.877953 |  -120.07833 |
|        40 |     2 |     2 |   600 | 0.885827 |    -106.955 |
|        40 |     1 |     3 |   624 | 0.917323 |  -52.366987 |
|         5 |     2 |    15 |   647 | 0.874016 |  -117.44049 |
|         5 |     2 |    20 |   655 | 0.850394 |  -152.07023 |
|        10 |     1 |    15 |   680 | 0.933071 |  -24.895588 |
|         5 |    20 |     2 |   705 | 0.720472 |  -325.57163 |
|        10 |    10 |     2 |   710 | 0.850394 |  -140.29014 |
|         5 |     2 |    20 |   717 | 0.838583 |  -155.39331 |
|        20 |     5 |     2 |   720 | 0.877953 |  -100.06528 |
|        10 |     1 |    20 |   726 | 0.905512 |  -61.278237 |
|        10 |     5 |     3 |   736 | 0.885827 |  -87.191576 |
|        10 |     1 |    20 |   740 | 0.913386 |  -49.478378 |
|         5 |    10 |     3 |   745 | 0.874016 |  -101.99195 |
|        10 |     2 |     5 |   870 | 0.885827 |  -73.762069 |
|        30 |     2 |     3 |   894 | 0.948819 |  -1.3210291 |
|        20 |     1 |     5 |   926 | 0.940945 |  -9.7786177 |
|         5 |     5 |     5 |  1040 | 0.925197 |  -23.849038 |
|        10 |    15 |     2 |  1060 | 0.771654 |  -168.25094 |
|        30 |     5 |     2 |  1076 | 0.917323 |  -30.368959 |
|         5 |    15 |     3 |  1088 | 0.866142 |  -77.075368 |
|        40 |     2 |     3 |  1192 | 0.925197 |  -20.807886 |
|        30 |     1 |     5 |  1260 | 0.956693 |   5.3119048 |
|        10 |     2 |    20 |  1344 | 0.909449 |  -30.171875 |
|        10 |    20 |     2 |  1404 | 0.893701 |  -40.099003 |
|        10 |     2 |    20 |  1408 | 0.917323 |  -23.208097 |
|        10 |     2 |    15 |  1414 |  0.88189 |  -48.168317 |
|        20 |    10 |     2 |  1418 | 0.917323 |  -23.044429 |
|         5 |    20 |     3 |  1435 | 0.905512 |  -31.002091 |
|        40 |     5 |     2 |  1440 | 0.917323 |  -22.692361 |
|        20 |     1 |    20 |  1472 | 0.944882 |  -3.4769022 |
|        20 |     1 |    15 |  1474 | 0.952756 |   1.8697422 |
|        10 |    10 |     3 |  1478 | 0.940945 |  -6.1265223 |
|        20 |     1 |    20 |  1478 | 0.948819 | -0.79905277 |
|        20 |     5 |     3 |  1480 | 0.944882 |  -3.4581081 |
|         5 |     5 |    20 |  1666 | 0.940945 |  -5.4351741 |
|         5 |     5 |    15 |  1682 | 0.944882 |  -3.0428062 |
|        20 |     2 |     5 |  1714 | 0.948819 | -0.68903151 |
|         5 |     5 |    20 |  1754 | 0.944882 |  -2.9179019 |
|        40 |     1 |     5 |  1792 | 0.964567 |   8.1289063 |
|        10 |     5 |     5 |  2048 | 0.992126 |   20.569336 |
|         5 |    10 |     5 |  2075 | 0.933071 |  -8.1585542 |
|        20 |    15 |     2 |  2114 | 0.901575 |  -22.906812 |
|        30 |    10 |     2 |  2118 | 0.933071 |  -7.9929178 |
|        10 |    15 |     3 |  2188 | 0.944882 |  -2.3391225 |
|        30 |     5 |     3 |  2202 | 0.964567 |   6.6153497 |
|        30 |     1 |    20 |  2268 | 0.956693 |   2.9510582 |
|        30 |     1 |    20 |  2282 | 0.980315 |   13.284400 |
|        30 |     1 |    15 |  2288 | 0.964567 |   6.3666958 |
|        30 |     2 |     5 |  2568 | 0.944882 |  -1.9929907 |
|        20 |    20 |     2 |  2814 | 0.889764 |  -21.405828 |
|        40 |    10 |     2 |  2830 | 0.952756 |  0.97385159 |
|        20 |     2 |    15 |  2868 | 0.937008 |  -4.5299861 |
|        10 |    20 |     3 |  2890 | 0.925197 |  -8.5823529 |
|        20 |     2 |    20 |  2898 | 0.948819 | -0.40752243 |
|        20 |     2 |    20 |  2900 | 0.944882 |  -1.7648276 |
|        40 |     5 |     3 |  2908 | 0.944882 |  -1.7599725 |
|        20 |    10 |     3 |  2950 | 0.952756 |  0.93423729 |
|         5 |    15 |     5 |  2980 | 0.952756 |  0.92483221 |
|        40 |     1 |    15 |  3028 | 0.952756 |  0.91017173 |
|        40 |     1 |    20 |  3058 | 0.964567 |   4.7635710 |
|        40 |     1 |    20 |  3138 | 0.964567 |   4.6421287 |
|        30 |    15 |     2 |  3172 | 0.897638 |  -16.507566 |
|        40 |     2 |     5 |  3246 | 0.956693 |   2.0619224 |
|         5 |    10 |    20 |  3535 | 0.952756 |  0.77963225 |
|        10 |     5 |    20 |  3600 | 0.952756 |  0.76555556 |
|        10 |     5 |    20 |  3636 |  0.96063 |   2.9235424 |
|         5 |    10 |    15 |  3711 | 0.952756 |  0.74265697 |
|        10 |     5 |    15 |  3756 | 0.972441 |   5.9747071 |
|         5 |    10 |    20 |  3865 | 0.956693 |   1.7316947 |
|        10 |    10 |     5 |  4118 | 0.964567 |   3.5373968 |
|         5 |    20 |     5 |  4153 | 0.948819 | -0.28437274 |
|        30 |    20 |     2 |  4222 | 0.956693 |   1.5852676 |
|        40 |    15 |     2 |  4230 | 0.948819 | -0.27919622 |
|        30 |     2 |    20 |  4354 | 0.948819 | -0.27124483 |
|        20 |     5 |     5 |  4358 | 0.956693 |   1.5357962 |
|        30 |    10 |     3 |  4366 | 0.964567 |   3.3364636 |
|        20 |    15 |     3 |  4368 | 0.937008 |  -2.9743590 |
|        30 |     2 |    20 |  4374 | 0.948819 | -0.27000457 |
|        30 |     2 |    15 |  4458 | 0.976378 |   5.9170031 |
|         5 |    15 |    15 |  5130 | 0.964567 |   2.8395712 |
|         5 |    15 |    20 |  5348 | 0.956693 |   1.2514959 |
|         5 |    15 |    20 |  5534 | 0.964567 |   2.6322732 |
|        40 |    20 |     2 |  5622 |  0.92126 |  -5.1120598 |
|        20 |    20 |     3 |  5764 | 0.968504 |   3.2102706 |
|        40 |    10 |     3 |  5808 |  0.96063 |   1.8302342 |
|        40 |     2 |    20 |  6052 | 0.964567 |   2.4069729 |
|        40 |     2 |    20 |  6120 | 0.968504 |   3.0235294 |
|        40 |     2 |    15 |  6200 | 0.956693 |   1.0795161 |
|        10 |    15 |     5 |  6318 | 0.976378 |   4.1750554 |
|        30 |     5 |     5 |  6340 | 0.976378 |   4.1605678 |
|        30 |    15 |     3 |  6580 | 0.968504 |   2.8121581 |
|         5 |    20 |    15 |  6597 | 0.964567 |   2.2081249 |
|         5 |    20 |    20 |  6975 | 0.956693 |  0.95956989 |
|        10 |    10 |    20 |  7110 | 0.968504 |   2.6025316 |
|        10 |    10 |    20 |  7176 | 0.968504 |   2.5785953 |
|        10 |    10 |    15 |  7184 | 0.980315 |   4.2197940 |
|         5 |    20 |    20 |  7227 |  0.96063 |   1.4708731 |
|        20 |     5 |    20 |  7354 | 0.972441 |   3.0515366 |
|        20 |     5 |    15 |  7404 | 0.976378 |   3.5626688 |
|        20 |     5 |    20 |  7494 | 0.964567 |   1.9438217 |
|        10 |    20 |     5 |  8170 | 0.968504 |   2.2648715 |
|        20 |    10 |     5 |  8442 | 0.976378 |   3.1246150 |
|        40 |     5 |     5 |  8610 | 0.972441 |   2.6063879 |
|        40 |    15 |     3 |  8620 | 0.968504 |   2.1466357 |
|        30 |    20 |     3 |  8678 | 0.968504 |   2.1322885 |
|        10 |    15 |    20 | 10576 | 0.984252 |   3.2386536 |
|        10 |    15 |    15 | 10658 | 0.976378 |   2.4749484 |
|        30 |     5 |    15 | 11100 | 0.972441 |   2.0217117 |
|        30 |     5 |    20 | 11124 | 0.972441 |   2.0173499 |
|        10 |    15 |    20 | 11396 | 0.980315 |   2.6601439 |
|        40 |    20 |     3 | 11578 | 0.972441 |   1.9382449 |
|        30 |     5 |    20 | 11684 | 0.984252 |   2.9315303 |
|        20 |    15 |     5 | 12278 | 0.980315 |   2.4690503 |
|        30 |    10 |     5 | 12568 | 0.972441 |   1.7855665 |
|        10 |    20 |    20 | 14302 | 0.972441 |   1.5690812 |
|        20 |    10 |    15 | 14958 | 0.972441 |   1.5002674 |
|        40 |     5 |    20 | 15126 | 0.972441 |   1.4836044 |
|        20 |    10 |    20 | 15156 | 0.964567 |  0.96113750 |
|        40 |     5 |    20 | 15226 | 0.964567 |  0.95671877 |
|        20 |    10 |    20 | 15432 | 0.988189 |   2.4746630 |
|        10 |    20 |    15 | 15608 | 0.964567 |  0.93330343 |
|        10 |    20 |    20 | 15688 | 0.968504 |   1.1795003 |
|        40 |     5 |    15 | 15688 | 0.980315 |   1.9323687 |
|        20 |    20 |     5 | 16768 | 0.968504 |   1.1035305 |
|        40 |    10 |     5 | 16806 | 0.964567 |  0.86677377 |
|        30 |    15 |     5 | 18360 | 0.980315 |   1.6511438 |
|        20 |    15 |    15 | 22152 | 0.980315 |   1.3684995 |
|        20 |    15 |    20 | 22252 | 0.980315 |   1.3623495 |
|        30 |    10 |    20 | 22610 | 0.972441 |  0.99252543 |
|        20 |    15 |    20 | 22656 | 0.984252 |   1.5118291 |
|        30 |    10 |    20 | 22934 | 0.984252 |   1.4935031 |
|        30 |    10 |    15 | 23030 | 0.980315 |   1.3163265 |
|        30 |    20 |     5 | 24558 | 0.984252 |   1.3947390 |
|        40 |    15 |     5 | 24678 | 0.976378 |   1.0688873 |
|        20 |    20 |    20 | 29630 | 0.972441 |  0.75737428 |
|        20 |    20 |    15 | 29992 | 0.984252 |   1.1420379 |
|        40 |    10 |    20 | 30500 | 0.980315 |  0.99393443 |
|        40 |    10 |    15 | 30644 | 0.976378 |  0.86078841 |
|        20 |    20 |    20 | 31446 | 0.980315 |  0.96403358 |
|        40 |    10 |    20 | 31634 | 0.984252 |   1.0827591 |
|        40 |    20 |     5 | 32584 | 0.980315 |  0.93036460 |
|        30 |    15 |    20 | 34670 | 0.988189 |   1.1014999 |
|        30 |    15 |    15 | 34834 | 0.980315 |  0.87027043 |
|        30 |    15 |    20 | 35198 | 0.988189 |   1.0849764 |
|        40 |    15 |    20 | 46240 | 0.980315 |  0.65560121 |
|        40 |    15 |    20 | 46492 | 0.984252 |  0.73672890 |
|        30 |    20 |    20 | 46852 | 0.988189 |  0.81509861 |
|        40 |    15 |    15 | 47136 | 0.984252 |  0.72666327 |
|        30 |    20 |    15 | 47560 | 0.980315 |  0.63740538 |
|        30 |    20 |    20 | 48358 | 0.988189 |  0.78971421 |
|        40 |    20 |    15 | 63050 | 0.988189 |  0.60569389 |
|        40 |    20 |    20 | 63152 | 0.984252 |  0.54237395 |
|        40 |    20 |    20 | 64508 | 0.988189 |  0.59200409 |
#+TBLFM: $6=(($5-0.95)*1000000)/$4




| Creatures | Trees | Depth | Nodes | Accuracy |
|        30 |     5 |     5 |  6528 |     97.6 |
|        20 |     5 |     5 |  4194 |     97.2 |
|        10 |     5 |     5 |  2046 |     95.6 |
|         5 |     5 |     5 |  1018 |     94.5 |
|        30 |     3 |     5 |  3826 |     97.2 |
|        30 |     2 |     5 |  2582 |          |
** Using the same data set for training and testing creatures
   It seems that results are generally better and more consistant when data sets aren't split into train and hold sets
** Evaluation
   Get statistics of many training runs to see the tade
